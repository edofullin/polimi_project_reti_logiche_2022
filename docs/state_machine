S1 Leggi N Bytes

nbyte_load 1
o_addr 0
sm_rst 1

goto S2

S2 Leggi primo bit

nbyte_load 0
o_addr 1
cbit_load 1
cbit_rst 1
sm_ena 1
sm_rst 0
o_we 0

if seq_end goto S6 else goto S3

S3 Leggi bit

cbit_rst 0
cbit_load 1
o_we 0

goto S4

S4 Scrivi bit 0

cbit_load 0
sm_w_sel 0
o_we 1

goto S5

S5 Scrivi bit 1

cbit_load 0
sm_w_sel 1
o_we 1

if cbit_end goto S2 else goto S3

S6 Sequenza finita


